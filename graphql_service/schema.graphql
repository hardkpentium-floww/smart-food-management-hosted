schema {
  query: Query
  mutation: Mutation
}

union AddMealForUserResponse = MealAddSuccess | MealAddFailure

union GetItemsResponse = Items | ItemsNotFound

union GetMealPreferenceResponse = UserMealStatus

union GetScheduledMealByAdminResponse = AdminScheduledMeal | MealNotScheduled

union GetScheduledMealForUserResponse = UserScheduledMeal | MealNotScheduled

union ScheduleMealResponse = ScheduleMealSuccess | ScheduleMealFailure

enum BaseSizeUnitEnum {
  KG
  PISCES
  LITTERS
}

enum FoodItemCategoryEnum {
  RICE
  PANCAKE
  BEVERAGES
}

enum MealStatusEnum {
  ATE
  SKIPPED
  NULL
}

enum MealTypeEnum {
  FULL
  HALF
  CUSTOM
}

enum ServingSizeUnitEnum {
  PISCES
  LADDLE
  GLASS
}

enum TypeEnum {
  BREAKFAST
  LUNCH
  DINNER
}

type AdminScheduledMeal {
  date: String
  mealType: MealTypeEnum
  items: [Item]
}

type Item {
  id: String
  name: String
  category: FoodItemCategoryEnum
  baseSizeUnit: BaseSizeUnitEnum
  servingSizeUnit: ServingSizeUnitEnum
}

type Items {
  items: [Item]
}

type ItemsNotFound {
  message: String
}

type MealAddFailure {
  message: String
}

type MealAddSuccess {
  userMealId: String
}

type MealNotScheduled {
  message: String
}

type ScheduleMealFailure {
  message: String
}

type ScheduleMealSuccess {
  mealId: String
}

type UpdateIncampusStatusResponse {
  message: String
}

type UserMeal {
  mealType: MealTypeEnum
  mealId: String
  mealPreference: MealTypeEnum
  items: Item
}

type UserMealStatus {
  mealStatus: MealStatusEnum
}

type UserScheduledMeal {
  date: String
  meals: [UserMeal]
}

input AddMealForUserParams {
  userId: String
  itemIds: [Int]
  quantities: [Int]
  date: String
  type: TypeEnum = null
  mealType: MealTypeEnum = null
  skipMeal: MealStatusEnum = null
}

input GetItemsParams {
  offset: Int
  limit: Int
}

input GetMealPreferenceParams {
  userId: String
  mealId: String
  mealType: MealTypeEnum = null
}

input GetScheduledMealByAdminParams {
  date: String
  mealType: MealTypeEnum = null
}

input GetScheduledMealForUserParams {
  date: String
  userId: String
}

input ScheduleMealParams {
  itemIds: [String]
  fullMealQuantities: [Int]
  halfMealQuantities: [Int]
  date: String
  mealPreference: TypeEnum = null
  mealType: MealTypeEnum = null
}

input UpdateIncampusStatusParams {
  userId: String
  inCampus: Boolean
}

type Query {
  getItems(params: GetItemsParams!): GetItemsResponse
  getScheduledMealByAdmin(params: GetScheduledMealByAdminParams!): GetScheduledMealByAdminResponse
  getScheduledMealForUser(params: GetScheduledMealForUserParams!): GetScheduledMealForUserResponse
  getMealPreference(params: GetMealPreferenceParams!): GetMealPreferenceResponse
}

type Mutation {
  addMealForUser(params: AddMealForUserParams!): AddMealForUserResponse!
  scheduleMeal(params: ScheduleMealParams!): ScheduleMealResponse!
  updateIncampusStatus(params: UpdateIncampusStatusParams!): UpdateIncampusStatusResponse!
}
